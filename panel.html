<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>青鬼ごっこ管理パネル</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      background-size: 400% 400%;
      animation: nightFade 15s ease infinite;
    }
    @keyframes nightFade {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen">
  <div class="bg-white bg-opacity-90 p-8 rounded-2xl shadow-2xl w-full max-w-md">
    <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">青鬼ごっこ管理パネル</h2>
    <div id="userInfo" class="text-center mb-4">
      <p>ログインユーザー: <span id="userEmail" class="font-semibold text-blue-600"></span></p>
    </div>
    
    <div class="text-center mb-4">
      <button onclick="logout()" class="w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-lg transition duration-200">
        ログアウト
      </button>
    </div>

    <div class="text-center">
      <button onclick="startGame()" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded-lg transition duration-200">
        ゲームを開始
      </button>
    </div>
  </div>

  <script>
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyAXKTCZT9fE9slC1fbZk36OoyHt_4LkN28",
  authDomain: "aoonigokkoauth.firebaseapp.com",
  projectId: "aoonigokkoauth",
  storageBucket: "aoonigokkoauth.firebasestorage.app",
  messagingSenderId: "460906205657",
  appId: "1:460906205657:web:3d0237157dadebddd549c8",
  measurementId: "G-HD92Q4NNYJ"
};

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // ✅ ログインしていない場合、ログイン画面にリダイレクト
    auth.onAuthStateChanged(user => {
      if (!user) {
        // ユーザーが
