<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>管理用パネルログイン</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      background-size: 400% 400%;
      animation: nightFade 15s ease infinite;
    }
    @keyframes nightFade {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen">
  <div class="bg-white bg-opacity-90 p-8 rounded-2xl shadow-2xl w-full max-w-md">
    <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">管理用パネルログイン</h2>
    <input type="email" id="email" placeholder="メールアドレス" class="w-full p-3 mb-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
    <input type="password" id="password" placeholder="パスワード" class="w-full p-3 mb-6 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400">
    <button onclick="signIn()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition duration-200">
      青鬼ごっこパネル
    </button>
    <p id="message" class="text-center text-sm text-red-500 mt-4"></p>
  </div>

  <script>
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT_ID.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // ✅ 自動ログイン対応
    auth.onAuthStateChanged(user => {
      if (user) {
        // ユーザーがログインしていれば panel.html に遷移
        location.href = "panel.html";
      }
    });

    function signIn() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      auth.signInWithEmailAndPassword(email, password)
        .then(() => {
          location.href = "panel.html"; // ✅ ログイン成功でパネルへ遷移
        })
        .catch(error => {
          document.getElementById("message").textContent = error.message;
        });
    }
  </script>
</body>
</html>
